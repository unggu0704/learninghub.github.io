# Azure Storage & Database

- 마이크로소프트의 클라우드 스토리지 스토리지
- 고가용성, 보안, 확장성등을 제공

## Blob Storage

- 대규모 비정형 데이터를 저장하는데 사용된다. (데이터의 종류의 제한이 없다)
- 개발자가 직접 디스크를 관리할 필요성이 없음, Azure가 모든 요구사항을 관리함
- 대용량 데이터, 동시 업로드,  끝없이 증가하는 데이터 등을 인터넷으로 관리
- AKS에서 컨테이너화 된 어플리케이션이 Blob Storage에 쉽게 엑세스가 가능하다

### Access 계층

- 데이터의 증가에 따라 접근, 수정 빈도나 특성에 따라 계층을 정의

**Hot Access 계층**

- 자주 사용되는 데이터 저장
- 웹 사이트의 이미지

**Cool Access 계층**

- 자주 사용하지 않지만 저장되어야할 데이터
- 고객 구매 내역, 로그 데이터

**Archive Access 계층**

- 엑세스 하지 않지만 오랜 기간 저장되어할 데이터 (오프라인으로 저장된다.)
- 백업 데이터

## Azure File Storage

- SBM 프로토콜을 통해 파일 공유를 제공
    - *SMB 프로토콜 : 파일, 프린터 등 통신 추상화를 위한 프로토콜을 제공하는 네트워크 파일 공유 프로토콜*
    - 이를 통해 더 다양한 운영체제에서 파일 공유 가능 → 확장성이 좋다!
- 기존의 온프레미스 환경과 컨테이너끼리의 공유 파일 시스템으로 사용 가능
    - 온 프레미스의 파일 서버 또는 NAS 디바이스를 대체 가능

## Azure Disk Storage

- 컨테이너화된 웹 서버의 데이터 디스크로 사용됨
- 영구적으로 저장 하고 엑세스 가능

**디스크 유형**

- **Ultra Disk**: 고성능 및 낮은 지연 시간을 요구하는 워크로드에 적합.
- **Premium SSD**: 높은 성능과 낮은 지연 시간을 제공.
- **Standard SSD**: 중간 성능과 비용 효율성을 제공.
- **Standard HDD**: 비용 효율성을 중시하는 워크로드에 적합.

### Azure 큐

- 대규모 처리를 위한 메세지 큐 서비스
- 최대 64KB 저장 및 비동기적 저장 수행

### Azure 테이블

- 비정형 데이터를 저장된 NoSQL 키-값 저장소
- 반구조화 데이터 저장

---

## Azure Database for PostgreSQL

**장점**

- PostgreSQL과 완전한 호환성을 제공
- 기존의 데이터베이스 스키마, 쿼리 등을 그대로 사용 가능
- 클라우드 환경에서의 고가용성, 보안, 확장성은 제공
- 완전 관리형 서비스
    - 백업, 복구, 모니터링이 자동으로 관리

**단점**

- 장기 비용
    - 사용량 기반이기에 예기치 못한 비용 발생 가능성
- 커스터마이징 제한 및 데이터 주권 문제
- 네트워크 종속과 추가적인 네트워크 비용 예상

**Azure Database Migration Service (DMS)**: 온프레미스 PostgreSQL에서 Azure Database for PostgreSQL로의 마이그레이션을 지원

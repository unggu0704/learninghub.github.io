---
author: 김규형
date: 2024-12-16 10:14:00 +0800
categories: [Azure, 처음배우는 애저(한빛미디어)]
tags: [Azure, AKS, Kubernetes, Cloud, DevOps]
render_with_liquid: true
comments: true
image:
  path: https://contents.kyobobook.co.kr/sih/fit-in/458x0/pdt/9791169211598.jpg
---

# Azure 가상 네트워크

### 주소 공간

- 인터넷 인바운드 통신과 가상 네트워크 통신을 위한 공인 및 사설 IP 지원
- Azure의 주소 공간 표기는 CIDR 표기 방법 사용
- IPv4 주소를 Azure내에서 정적 또는 동적 할당 가능
- 이러한 주소 공간을 통해 가상 네트워크 설계시 원칙 2가지
    - VNet 주소 공간이 다른 네트워크 범위와 겹치지 않아야한다.
    - 다수의 주소 범위를 갖는 VNet보다는 큰 주소 범위의 VNet을 사용

### 서브넷

- Azure에서 가장 네트워크를 만들 때 반드시 하나 이상의 서브넷을 지정 필요
- 가상 네트워크를 적합한 세그먼트로 분할하여 할당의 효율
- 서브넷의 장점
    - 네트워크 성능과 속도의 향상
    - 네트워크 정체를 줄임
    - 네트워크 보안 향상
    - 비대하지 않은 네트워크
- Azure에서 사전 정의된 서브넷
    - `x.x.x.0` : 네트워크 주소
    - `x.x.x.1` : Azure에서 기본 게이트웨이 예약
    - `x.x.x.2` , `x.x.x.3` : Azure DNS IP를 Vnet 공간에 매핑하기 위해 연락
    - `x.x.x.255` : 네트워크 브로드캐스트 주소
- **가상 네트워크 설계 원칙 2가지**
    - 서브넷 주소 공간이 가상 네트워크의 전체 공간을 사용하게 하지 말것 → 추후에 사용 범위 확보
    - 트래픽 제어를 고려

## 가상 네트워크 만들기

1. 검색창에 *가상 네트워크* 검색 후 만들기 선택
2. 리스 그룹 지정 후 가상 네트워크 이름 입력
3. **IP 주소 공간**에서 default 서브넷을 제거
4. 주소공간을 `172.16.0.0` 으로 설정 주소 공간의 크기는 `/16` 
5. **서브넷 추가** 버튼을 클릭하여 서브넷을 추가
    1. 서브넷 이름을 설정
    2. 시작 주소는 `172.16.1.0` 서브넷 크기는 `/24`
